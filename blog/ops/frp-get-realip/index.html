<!DOCTYPE html>

<html lang="zh-cn"><head>
  <meta charset="utf-8">
  <title>frpå†…ç½‘ç©¿é€httpè·å–å®¢æˆ·ç«¯çœŸå®ip | Louis Blog</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="å†…ç½‘webæœåŠ¡, é€šè¿‡frpè¿›è¡Œå†…ç½‘ç©¿é€,å®¢æˆ·ç«¯çœŸå®ipå¼‚å¸¸. é€šè¿‡åœ¨frp serverç«¯ä¹‹å‰, æ·»åŠ nginxè¿›è¡Œåå‘ä»£ç†, å¯ä»¥è·å–åˆ°å®¢æˆ·ç«¯çš„RealIp, è§£å†³é—®é¢˜">
  
  <meta name="author" content="Louis ">
  <meta name="generator" content="Hugo 0.73.0" />

  <!-- plugins -->
  
  <link rel="stylesheet" href="/plugins/bootstrap/bootstrap.min.css">
  
  <link rel="stylesheet" href="/plugins/slick/slick.css">
  
  <link rel="stylesheet" href="/plugins/fontawesome/font-awesome.min.css">
  
  <link rel="stylesheet" href="/plugins/animate/animate.css">
  
  <link rel="stylesheet" href="/plugins/venobox/venobox.css">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="/scss/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="/images/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="/images/images/favicon.png " type="image/x-icon">

  <!--Algolia-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.css">
</head>
<body>
<!-- header -->
<header>
  

  <!-- navigation -->
  <div class="navigation bg-white position-relative">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-light bg-white">
        <a class="navbar-brand" href="/"><img class="img-fluid pb-lg-3" src="/images/images/logo.png" width="189px" alt="Louis Blog"></a>
        <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation"
          aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navigation">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="/"></a>
            </li>
            
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                åšå®¢
              </a>
              <div class="dropdown-menu" >
                
                <a class="dropdown-item" href="/categories/kubernetes">Kubernetes</a>
                
                <a class="dropdown-item" href="/categories/sealos">sealos</a>
                
                <a class="dropdown-item" href="/categories/ops">è¿ç»´ç›¸å…³</a>
                
                <a class="dropdown-item" href="/categories/golang">golang</a>
                
                <a class="dropdown-item" href="/categories/algorithm">algorithm</a>
                
                <a class="dropdown-item" href="/categories/tools">tools</a>
                
                <a class="dropdown-item" href="/blog">å…¨éƒ¨</a>
                
              </div>
            </li>
            
            
            
            <li class="nav-item">
              <a class="nav-link" href="/team">å‹æƒ…é“¾æ¥</a>
            </li>
            
            
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                å…³äºæˆ‘
              </a>
              <div class="dropdown-menu" >
                
                <a class="dropdown-item" href="/contact">about</a>
                
                <a class="dropdown-item" href="https://github.com/oldthreefeng">github</a>
                
              </div>
            </li>
            
            
          </ul>

          
          

          
          <!-- search -->
          <div class="search px-4">
            <button id="searchOpen" class="search-btn"><i class="fa fa-search text-dark"></i></button>
            <div class="search-wrapper">
              <form action="/search">
                <input class="search-box form-control" id="js-algolia-btn" name="s" type="search" placeholder="è¾“å…¥æœç´¢è¯">
              </form>
              <button id="searchClose" class="search-close"><i class="fa fa-close text-dark"></i></button>
            </div>
          </div>
          
          
          <!-- get start btn -->
          <a href="/contact" class="btn btn-primary hover-ripple">è”ç³»æˆ‘</a>
          
        </div>
      </nav>
    </div>
  </div>
  <!-- /navigation -->
</header>
<!-- /header -->


<!-- page title -->
<section class="section bg-cover overlay" style="background-image: url('/'),url('/'),url('/images/images/backgrounds/page-title.jpg');">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h2 class="text-white mb-3">frpå†…ç½‘ç©¿é€httpè·å–å®¢æˆ·ç«¯çœŸå®ip</h2>
        <!-- breadcrumb -->
        
        <p class="text-white">å†…ç½‘webæœåŠ¡, é€šè¿‡frpè¿›è¡Œå†…ç½‘ç©¿é€,å®¢æˆ·ç«¯çœŸå®ipå¼‚å¸¸. é€šè¿‡åœ¨frp serverç«¯ä¹‹å‰, æ·»åŠ nginxè¿›è¡Œåå‘ä»£ç†, å¯ä»¥è·å–åˆ°å®¢æˆ·ç«¯çš„RealIp, è§£å†³é—®é¢˜</p>
      </div>
    </div>
  </div>
</section>
<!-- /page title -->


<!-- blog details -->
<section class="section">
  <div class="container blog">
    <div class="row">
      <div class="col-lg-8">
        <!-- post thumb -->
        <div class="position-relative mb-5">
          <img src="/"  onerror="this.src='https:\/\/pic.fenghong.tech\/proto\/people-2564024_960_720.jpg'" alt="post thumb" class="img-fluid w-100">
           <div class="card-type">Ops</div>
        </div>
        <div class="card-meta text-uppercase mb-2">ä½œè€…  <strong class="text-dark"><a href="https://www.fenghong.tech">Louis</a></strong>
          
            å‘è¡¨äº <strong class="text-dark">2020å¹´7æœˆ14æ—¥</strong></div>
        <hr>
        <div class="content">
          <p>[TOC]</p>
<blockquote>
<p>èƒŒæ™¯: frpæ˜¯ä¸€æ¬¾å†…ç½‘ç©¿é€ç¥å™¨, æœ¬åœ°çš„httpå¯ä»¥é€šè¿‡frpç©¿é€è‡³å¤–ç½‘,è¯¦æƒ…å¯ä»¥æŸ¥çœ‹å®˜æ–¹ç½‘ç«™<a href="https://github.com/fatedier/frp">Github</a>. å‡ ç»æŸ¥é˜…, å¯¹äºè·å–å®¢æˆ·ç«¯çœŸå®ipçš„é…ç½®å®åœ¨æ˜¯æœ‰ç‚¹è¿·èŒ«. è·å–ä¸äº†çœŸå®ip, é‚£ä¹ˆå¾®ä¿¡å›è°ƒçš„æ¥å£å°±ä¼šå„ç§æŠ¥é”™.</p>
</blockquote>
<h2 id="å®˜æ–¹çš„è§£å†³">å®˜æ–¹çš„è§£å†³</h2>
<h3 id="è·å–ç”¨æˆ·çœŸå®-ip">è·å–ç”¨æˆ·çœŸå® IP</h3>
<h4 id="http-x-forwarded-for">HTTP X-Forwarded-For</h4>
<p>ç›®å‰åªæœ‰ <strong>http</strong> ç±»å‹çš„ä»£ç†æ”¯æŒè¿™ä¸€åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡ç”¨æˆ·è¯·æ±‚çš„ header ä¸­çš„ <code>X-Forwarded-For</code> æ¥è·å–ç”¨æˆ·çœŸå® IPï¼Œé»˜è®¤å¯ç”¨ã€‚</p>
<h4 id="proxy-protocol">Proxy Protocol</h4>
<p>frp æ”¯æŒé€šè¿‡ <strong>Proxy Protocol</strong> åè®®æ¥ä¼ é€’ç»è¿‡ frp ä»£ç†çš„è¯·æ±‚çš„çœŸå® IPï¼Œæ­¤åŠŸèƒ½æ”¯æŒæ‰€æœ‰ä»¥ TCP ä¸ºåº•å±‚åè®®çš„ç±»å‹ï¼Œä¸æ”¯æŒ UDPã€‚</p>
<p><strong>Proxy Protocol</strong> åŠŸèƒ½å¯ç”¨åï¼Œfrpc åœ¨å’Œæœ¬åœ°æœåŠ¡å»ºç«‹è¿æ¥åï¼Œä¼šå…ˆå‘é€ä¸€æ®µ <strong>Proxy Protocol</strong> çš„åè®®å†…å®¹ç»™æœ¬åœ°æœåŠ¡ï¼Œæœ¬åœ°æœåŠ¡é€šè¿‡è§£æè¿™ä¸€å†…å®¹å¯ä»¥è·å¾—è®¿é—®ç”¨æˆ·çš„çœŸå® IPã€‚æ‰€ä»¥ä¸ä»…ä»…æ˜¯ HTTP æœåŠ¡ï¼Œä»»ä½•çš„ TCP æœåŠ¡ï¼Œåªè¦æ”¯æŒè¿™ä¸€åè®®ï¼Œéƒ½å¯ä»¥è·å¾—ç”¨æˆ·çš„çœŸå® IP åœ°å€ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä»£ç†é…ç½®ä¸­å¦‚æœè¦å¯ç”¨æ­¤åŠŸèƒ½ï¼Œéœ€è¦æœ¬åœ°çš„æœåŠ¡èƒ½å¤Ÿæ”¯æŒ <strong>Proxy Protocol</strong> è¿™ä¸€åè®®ï¼Œç›®å‰ nginx å’Œ haproxy éƒ½èƒ½å¤Ÿå¾ˆå¥½çš„æ”¯æŒã€‚</p>
<p>è¿™é‡Œä»¥ https ç±»å‹ä¸ºä¾‹:</p>
<pre><code># frpc.ini
[web]
type = https
local_port = 443
custom_domains = test.yourdomain.com

# ç›®å‰æ”¯æŒ v1 å’Œ v2 ä¸¤ä¸ªç‰ˆæœ¬çš„ proxy protocol åè®®ã€‚
proxy_protocol_version = v2
</code></pre><p>åªéœ€è¦åœ¨ä»£ç†é…ç½®ä¸­å¢åŠ ä¸€è¡Œ <code>proxy_protocol_version = v2</code> å³å¯å¼€å¯æ­¤åŠŸèƒ½ã€‚</p>
<blockquote>
<p>æœ¬åœ°çš„ https æœåŠ¡å¯ä»¥é€šè¿‡åœ¨ nginx çš„é…ç½®ä¸­å¯ç”¨ <strong>Proxy Protocol</strong> çš„è§£æå¹¶å°†ç»“æœè®¾ç½®åœ¨ <code>X-Real-IP</code> è¿™ä¸ª Header ä¸­å°±å¯ä»¥åœ¨è‡ªå·±çš„ Web æœåŠ¡ä¸­é€šè¿‡ <code>X-Real-IP</code> è·å–åˆ°ç”¨æˆ·çš„çœŸå® IPã€‚</p>
</blockquote>
<p>æˆ‘è¿™è¾¹é…ç½®äº†<code>Proxy Protocol</code>, ç›´æ¥æŠ¥é”™,ä½¿ç”¨ä¸äº†, æŠ¥çš„æ˜¯ç½‘ç»œé”™è¯¯, å¦‚æœæœ‰é«˜æ‰‹, å¯ä»¥å‘Šè¯‰æˆ‘è¿™æ€ä¹ˆç©.</p>
<h2 id="æˆ‘çš„è§£å†³æ€è·¯">æˆ‘çš„è§£å†³æ€è·¯</h2>
<h3 id="æ¶æ„å›¾">æ¶æ„å›¾</h3>
<p><img src="https://pic.fenghong.tech/frp/frp-01.jpg" alt=""></p>
<p>å®¢æˆ·ç«¯é€šè¿‡é˜¿é‡Œäº‘çš„è´Ÿè½½å‡è¡¡(SLB)è®¿é—®NginxæœåŠ¡å™¨, Nginxåå‘ä»£ç†è‡³<code>frp server</code>,  <code>frp_server</code>ä¸<code>frp_client</code>é€šè¿‡<code>frp</code>åè®®å®ç°å†…ç½‘ç©¿é€.  <code>frp_client</code>é…ç½®æœ¬åœ°çš„<code>nginx</code>è´Ÿè½½å±‚, nginxè´Ÿè½½å±‚æµé‡æ±‡å…¥<code>kubenetes</code>é›†ç¾¤. ä¸ºç”¨æˆ·æä¾›æœåŠ¡.</p>
<table>
<thead>
<tr>
<th>ä¸»æœº</th>
<th>ip</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>é˜¿é‡Œäº‘SLB</code></td>
<td>ğŸ˜„</td>
<td></td>
</tr>
<tr>
<td><code>Nginx</code>-web</td>
<td>172.16.111.137</td>
<td>ğŸ˜„</td>
</tr>
<tr>
<td><code>frp_server</code></td>
<td>172.16.111.129</td>
<td>ğŸ˜„</td>
</tr>
<tr>
<td><code>frp_client</code></td>
<td>192.168.0.23</td>
<td>ğŸ˜„</td>
</tr>
<tr>
<td><code>Nginx_LB</code></td>
<td>192.168.0.21</td>
<td>ğŸ˜„</td>
</tr>
<tr>
<td><code>kubernetes-node</code></td>
<td>192.168.0.30,<!-- raw HTML omitted -->192.168.0.65,<!-- raw HTML omitted -->192.168.0.88</td>
<td>ğŸ˜„</td>
</tr>
</tbody>
</table>
<h3 id="slbåçš„nginx-webé…ç½®">SLBåçš„<code>nginx-web</code>é…ç½®</h3>
<p>é…ç½®å…¥å£çš„<code>nginx</code>çš„æ—¶å€™, åš<code>ssl</code> ä¼šè¯å¸è½½. è¿™æ ·ä»<code>frp_server</code>åˆ°<code>kubenetes</code>é›†ç¾¤éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨<code>http</code>åè®®. è¿™å±‚çš„<code>nginx</code>éå¸¸é‡è¦, å¦‚æœæ²¡æœ‰, é‚£ä¹ˆè·å–çš„<code>remote_ip</code> æ°¸è¿œéƒ½æ˜¯<code>127.0.0.1</code>æˆ–è€…æ˜¯å†…ç½‘ip.</p>
<pre><code>upstream frp {
	server 172.16.111.129:80;  # è¿™ä¸ªæ˜¯frp_serverçš„å†…ç½‘ipå’Œhttpç›‘å¬ç«¯å£
}
server {
	listen 80 ;
	server_name frp.fenghong.tech; 
	charset utf-8;
	add_header Content-Security-Policy upgrade-insecure-requests;

	location / {
		proxy_pass http://frp;
		proxy_set_header Host  $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header X-Forwarded-Proto $scheme;
	}
	access_log  /var/log/nginx/frp.fenghong.tech.access.log  main;
	error_log  /var/log/nginx/frp.fenghong.tech.error.log  info;
}

server {
	listen 443 ssl ;
	server_name frp.fenghong.tech; 
	charset utf-8;
	ssl_certificate  ssl/frp.fenghong.tech;
	ssl_certificate_key ssl/frp.fenghong.tech;

	ssl_session_timeout 5m;
	add_header Content-Security-Policy upgrade-insecure-requests;


	location / {
		proxy_set_header Host  $host;
		proxy_pass http://frp;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header X-Forwarded-Proto $scheme;
	}
	access_log  /var/log/nginx/frp.fenghong.tech.access.log  main;
	error_log  /var/log/nginx/frp.fenghong.tech.error.log  info;
}
</code></pre><h3 id="frp_serveré…ç½®"><code>frp_server</code>é…ç½®</h3>
<p>è¿™ä¸ªå‚è€ƒå®˜ç½‘,ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„, è¿™é‡Œæ˜¯æˆ‘é…ç½®. ä»…ä¾›å‚è€ƒ. æˆ‘è¿™è¾¹<code>admin</code>ç«¯å£éƒ½å¼€äº†é˜²ç«å¢™çš„, åªå…è®¸å†…ç½‘è®¿é—®. å¯ä»¥é…Œæƒ…é…ç½®.</p>
<pre><code>[common]
bind_addr = 0.0.0.0
bind_port = 7200
bind_udp_port = 7201
kcp_bind_port = 7200

vhost_http_port = 80
## å¦‚æœå‰ç«¯nginxå·²ç»åšäº†sslä¼šè¯å¸è½½.é‚£ä¹ˆè¿™ä¸ªhttps_portå¯ä»¥çœç•¥äº†.
vhost_https_port = 443   

dashboard_addr = 0.0.0.0
dashboard_port = 7500
dashboard_user = admin
dashboard_pwd = weakpasswod
log_file = ./frps.log
log_level = debug
log_max_days = 3

token = weakpasswod
max_pool_count = 5
max_ports_per_client = 0
authentication_timeout = 0
tcp_mux = true
</code></pre><h3 id="frp_clienté…ç½®"><code>frp_client</code>é…ç½®</h3>
<p>è¿™é‡Œè´´ä¸€ä¸‹æˆ‘çš„é…ç½®.</p>
<pre><code>[common]
server_addr = `frp_serverçš„å¤–ç½‘ip`  # è‡ªè¡Œæ›´æ”¹
server_port = 7200
token = weakpassword

[frp.fenghong.tech]
type = http
local_ip = 192.168.0.21
local_port = 80
remote_port = 80
use_encryption = false
use_compression = true
custom_domains = frp.fenghong.tech
</code></pre><h3 id="æœ¬åœ°nginx-lbè´Ÿè½½å‡è¡¡æœåŠ¡é…ç½®">æœ¬åœ°<code>nginx-LB</code>è´Ÿè½½å‡è¡¡æœåŠ¡é…ç½®.</h3>
<p>å› ä¸ºæˆ‘åç«¯æ˜¯<code>kubernetes</code>é›†ç¾¤, è€Œä¸”serviceåˆæ²¡æœ‰SLBç±»å‹çš„, é‡‡ç”¨çš„<code>clusterip</code> +<code>nginx-ingress</code>æš´éœ²æœ¬åœ°çš„æœåŠ¡.è¿™é‡Œçš„<code>nginx</code>ç›¸å½“äºè´Ÿè½½å‡è¡¡ä½œç”¨.</p>
<pre><code>upstream k8s-fenghong {
	ip_hash;
	server 192.168.0.30:80;
	server 192.168.0.65:80;
	server 192.168.0.88:80;

}
server {
	listen 80 ;
	server_name frp.fenghong.tech; 
	charset utf-8;
	add_header Content-Security-Policy upgrade-insecure-requests;

	location / {
		proxy_pass http://k8s-fenghong ;
		proxy_set_header Host  $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header X-Forwarded-Proto $scheme;
	}
	access_log  /var/log/nginx/frp.fenghong.tech.access.log  main;
	error_log  /var/log/nginx/frp.fenghong.tech.error.log  info;
}
</code></pre><p>åé¢å°±æ˜¯<code>kubernetes</code>é›†ç¾¤ç›¸å…³äº†, è¿™è¾¹å°±åˆ°æ­¤ä¸ºæ­¢å§.</p>
<h3 id="æŸ¥çœ‹æ—¥å¿—è¿›è¡ŒéªŒè¯">æŸ¥çœ‹æ—¥å¿—è¿›è¡ŒéªŒè¯</h3>
<p><code>nginx</code>æ—¥å¿—æ ¼å¼, å¯ä»¥çœ‹åˆ°<code>$http_x_forwarded_for</code>å·²ç»è·å–åˆ°äº†æˆ‘ä»¬çš„å®¢æˆ·ç«¯çš„<code>RealIP</code></p>
<pre><code>$  cat nginx.conf | grep -C log_format

log_format  main  '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '
		'$status $body_bytes_sent &quot;$http_referer&quot; '
		'&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot; &quot;$proxy_add_x_forwarded_for&quot;';

$ tail -f /var/log/nginx/frp.fenghong.tech.access.log
192.168.0.23 - - [14/Jul/2020:19:00:48 +0800] &quot;POST /api/company/isExists/mobile HTTP/1.1&quot; 200 79 &quot;https://frp.fenghong.tech.access/api/swagger-ui.html&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36&quot; &quot;124.78.19.227, 172.16.111.137&quot; &quot;124.78.19.227, 172.16.111.137, 192.168.0.23&quot;
</code></pre><p>æ„Ÿè°¢<code>frp</code>ä½œè€…çš„åŠªåŠ›.</p>
<h3 id="å‚è€ƒ">å‚è€ƒ</h3>
<ul>
<li><a href="https://github.com/fatedier/frp/issues/270">github#270</a></li>
</ul>

        </div>
        <!-- tags -->
        <div class="mb-3">
          <h5 class="d-inline-block mr-3">Tags:</h5>
          <ul class="list-inline d-inline-block">
            <a>
            <li class="list-inline-item"><a class="text-color" href="/tags/frp"> 
            Frp</a>
            
          </ul>
        </div>
        <!-- previous -->
        <div class="mb-3 link-article">
    <div class="pre-article">
        
            <div><i class="fa fa-arrow-left"></i> ä¸Šä¸€ç¯‡</div>
            <a href="https://www.fenghong.tech/blog/kubernetes/kubernetes-error-proxy/">httpProxyä»£ç†å¯¼è‡´kuberneteså‡ºç°çš„å¼‚å¸¸é”™è¯¯</a>
        
    </div>
    <div class="next-article">
        
            <div>ä¸‹ä¸€ç¯‡ <i class="fa fa-arrow-right"></i></div>
            <a href="https://www.fenghong.tech/blog/ops/log-for-aliyun/">é˜¿é‡Œäº‘æ—¥å¿—æ–¹æ¡ˆè¯´æ˜</a>
        
    </div>
</div>
        <!-- previous -->

        <!-- recommend -->
        

<div class="mb-3">
  <h2>æ–‡ç« æ¨è</h2>
  <ul class="related">
  
    <li><a href="/blog/ops/frpc-websocket/">å†…ç½‘ç©¿é€ä½¿ç”¨wss</a></li>
  
    <li><a href="/blog/ops/frp-20191204/">å†…ç½‘ç©¿é€ç¥çº§å·¥å…·frp</a></li>
  
  </ul>
</div>


        <!-- comments -->

        
        <div id="gitalk-container"></div>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
        <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
        <script>
          window.onload = function() {
              const gitalk = new Gitalk({
              clientID: 'a0a546df858aafb5300e',
              clientSecret: '67d7b40de25c072fc38840ffb9c06ceab7ef5080',
              repo: 'oldthreefeng.github.io',
              owner: 'oldthreefeng',
              admin: ['oldthreefeng'],
              id: hex_md5(hex_md5(window.location.pathname + window.location.hash)), 
              distractionFreeMode: false 
            });
            (function() {
              if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
                document.getElementById('gitalk-container').innerHTML = 'Gitalk comments not available by default when the website is previewed locally.';
                return;
              }
              gitalk.render('gitalk-container');
            })();
          }
        </script>
        
      </div>
      <!-- sidebar -->
<aside class="col-lg-4 order-1 order-lg-2">
  <!-- tags -->
  <div class="bg-white px-4 py-5 box-shadow mb-5 word-cloud">
    <h4 class="mb-4">æ ‡ç­¾</h4>
    
      
      
      
      
      
      
      
      
      
      
      
      <div id="tag-cloud" style="padding: 5px 15px">
      
        
          
          
          
          <a href="/tags/acme" style="font-size:1.0188679245283019rem">acme</a>
        
      
        
          
          
          &middot;
          <a href="/tags/acmetiny" style="font-size:1.0188679245283019rem">acmetiny</a>
        
      
        
          
          
          &middot;
          <a href="/tags/alertmanager" style="font-size:1rem">alertmanager</a>
        
      
        
          
          
          &middot;
          <a href="/tags/algorithm" style="font-size:1.1132075471698113rem">algorithm</a>
        
      
        
          
          
          &middot;
          <a href="/tags/aliyun" style="font-size:1rem">aliyun</a>
        
      
        
          
          
          &middot;
          <a href="/tags/ansible" style="font-size:1.0754716981132075rem">ansible</a>
        
      
        
          
          
          &middot;
          <a href="/tags/apisix" style="font-size:1rem">apisix</a>
        
      
        
          
          
          &middot;
          <a href="/tags/arm64" style="font-size:1.0188679245283019rem">arm64</a>
        
      
        
          
          
          &middot;
          <a href="/tags/authorization" style="font-size:1rem">authorization</a>
        
      
        
          
          
          &middot;
          <a href="/tags/backup" style="font-size:1.0377358490566038rem">backup</a>
        
      
        
          
          
          &middot;
          <a href="/tags/binarysearch" style="font-size:1.0188679245283019rem">binarysearch</a>
        
      
        
          
          
          &middot;
          <a href="/tags/binlog" style="font-size:1rem">binlog</a>
        
      
        
          
          
          &middot;
          <a href="/tags/bit" style="font-size:1.0188679245283019rem">bit</a>
        
      
        
          
          
          &middot;
          <a href="/tags/bug" style="font-size:1.0188679245283019rem">bug</a>
        
      
        
          
          
          &middot;
          <a href="/tags/cache" style="font-size:1rem">cache</a>
        
      
        
          
          
          &middot;
          <a href="/tags/certbot" style="font-size:1rem">certbot</a>
        
      
        
          
          
          &middot;
          <a href="/tags/channel" style="font-size:1rem">channel</a>
        
      
        
          
          
          &middot;
          <a href="/tags/chrome" style="font-size:1.0188679245283019rem">chrome</a>
        
      
        
          
          
          &middot;
          <a href="/tags/ci" style="font-size:1rem">ci</a>
        
      
        
          
          
          &middot;
          <a href="/tags/cluster" style="font-size:1.1132075471698113rem">cluster</a>
        
      
        
          
          
          &middot;
          <a href="/tags/cobra" style="font-size:1rem">cobra</a>
        
      
        
          
          
          &middot;
          <a href="/tags/coco" style="font-size:1.0377358490566038rem">coco</a>
        
      
        
          
          
          &middot;
          <a href="/tags/coding" style="font-size:1rem">coding</a>
        
      
        
          
          
          &middot;
          <a href="/tags/computer" style="font-size:1rem">computer</a>
        
      
        
          
          
          &middot;
          <a href="/tags/consul" style="font-size:1rem">consul</a>
        
      
        
          
          
          &middot;
          <a href="/tags/containerd" style="font-size:1.0188679245283019rem">containerd</a>
        
      
        
          
          
          &middot;
          <a href="/tags/coredns" style="font-size:1rem">coredns</a>
        
      
        
          
          
          &middot;
          <a href="/tags/cors" style="font-size:1rem">cors</a>
        
      
        
          
          
          &middot;
          <a href="/tags/crypto" style="font-size:1rem">crypto</a>
        
      
        
          
          
          &middot;
          <a href="/tags/curl" style="font-size:1rem">curl</a>
        
      
        
          
          
          &middot;
          <a href="/tags/dashboard" style="font-size:1rem">dashboard</a>
        
      
        
          
          
          &middot;
          <a href="/tags/dcdn" style="font-size:1rem">dcdn</a>
        
      
        
          
          
          &middot;
          <a href="/tags/debt" style="font-size:1rem">debt</a>
        
      
        
          
          
          &middot;
          <a href="/tags/devops" style="font-size:1.0188679245283019rem">devops</a>
        
      
        
          
          
          &middot;
          <a href="/tags/dingding" style="font-size:1rem">dingding</a>
        
      
        
          
          
          &middot;
          <a href="/tags/disk" style="font-size:1rem">disk</a>
        
      
        
          
          
          &middot;
          <a href="/tags/dmesg" style="font-size:1rem">dmesg</a>
        
      
        
          
          
          &middot;
          <a href="/tags/dns" style="font-size:1rem">dns</a>
        
      
        
          
          
          &middot;
          <a href="/tags/docker" style="font-size:1.2264150943396226rem">docker</a>
        
      
        
          
          
          &middot;
          <a href="/tags/doublylinkedlist" style="font-size:1rem">doublylinkedlist</a>
        
      
        
          
          
          &middot;
          <a href="/tags/elk" style="font-size:1rem">elk</a>
        
      
        
          
          
          &middot;
          <a href="/tags/error" style="font-size:1rem">error</a>
        
      
        
          
          
          &middot;
          <a href="/tags/etcd" style="font-size:1.0377358490566038rem">etcd</a>
        
      
        
          
          
          &middot;
          <a href="/tags/exec" style="font-size:1.0188679245283019rem">exec</a>
        
      
        
          
          
          &middot;
          <a href="/tags/exp" style="font-size:1rem">exp</a>
        
      
        
          
          
          &middot;
          <a href="/tags/federated" style="font-size:1rem">federated</a>
        
      
        
          
          
          &middot;
          <a href="/tags/filecoin" style="font-size:1rem">filecoin</a>
        
      
        
          
          
          &middot;
          <a href="/tags/find" style="font-size:1rem">find</a>
        
      
        
          
          
          &middot;
          <a href="/tags/firewalld" style="font-size:1rem">firewalld</a>
        
      
        
          
          
          &middot;
          <a href="/tags/fix" style="font-size:1.0377358490566038rem">fix</a>
        
      
        
          
          
          &middot;
          <a href="/tags/flag" style="font-size:1.0188679245283019rem">flag</a>
        
      
        
          
          
          &middot;
          <a href="/tags/flannel" style="font-size:1rem">flannel</a>
        
      
        
          
          
          &middot;
          <a href="/tags/food" style="font-size:1.0188679245283019rem">food</a>
        
      
        
          
          
          &middot;
          <a href="/tags/frp" style="font-size:1.0377358490566038rem">frp</a>
        
      
        
          
          
          &middot;
          <a href="/tags/ftp" style="font-size:1.0188679245283019rem">ftp</a>
        
      
        
          
          
          &middot;
          <a href="/tags/games" style="font-size:1rem">games</a>
        
      
        
          
          
          &middot;
          <a href="/tags/gin" style="font-size:1.0188679245283019rem">gin</a>
        
      
        
          
          
          &middot;
          <a href="/tags/git" style="font-size:1.2075471698113207rem">git</a>
        
      
        
          
          
          &middot;
          <a href="/tags/github" style="font-size:1.0188679245283019rem">github</a>
        
      
        
          
          
          &middot;
          <a href="/tags/gitlab" style="font-size:1rem">gitlab</a>
        
      
        
          
          
          &middot;
          <a href="/tags/go" style="font-size:1.320754716981132rem">go</a>
        
      
        
          
          
          &middot;
          <a href="/tags/go-vim" style="font-size:1rem">go-vim</a>
        
      
        
          
          
          &middot;
          <a href="/tags/gogs" style="font-size:1.0566037735849056rem">gogs</a>
        
      
        
          
          
          &middot;
          <a href="/tags/goland" style="font-size:1.0188679245283019rem">goland</a>
        
      
        
          
          
          &middot;
          <a href="/tags/golang" style="font-size:1.0377358490566038rem">golang</a>
        
      
        
          
          
          &middot;
          <a href="/tags/gorequest" style="font-size:1rem">gorequest</a>
        
      
        
          
          
          &middot;
          <a href="/tags/grafana" style="font-size:1.0188679245283019rem">grafana</a>
        
      
        
          
          
          &middot;
          <a href="/tags/grub" style="font-size:1rem">grub</a>
        
      
        
          
          
          &middot;
          <a href="/tags/hack" style="font-size:1.0188679245283019rem">hack</a>
        
      
        
          
          
          &middot;
          <a href="/tags/haproxy" style="font-size:1.0377358490566038rem">haproxy</a>
        
      
        
          
          
          &middot;
          <a href="/tags/harbor" style="font-size:1.0188679245283019rem">harbor</a>
        
      
        
          
          
          &middot;
          <a href="/tags/hash" style="font-size:1.0188679245283019rem">hash</a>
        
      
        
          
          
          &middot;
          <a href="/tags/hashmap" style="font-size:1rem">hashmap</a>
        
      
        
          
          
          &middot;
          <a href="/tags/helm" style="font-size:1.0188679245283019rem">helm</a>
        
      
        
          
          
          &middot;
          <a href="/tags/hexo" style="font-size:1.0377358490566038rem">hexo</a>
        
      
        
          
          
          &middot;
          <a href="/tags/http" style="font-size:1.0754716981132075rem">http</a>
        
      
        
          
          
          &middot;
          <a href="/tags/https" style="font-size:1rem">https</a>
        
      
        
          
          
          &middot;
          <a href="/tags/index" style="font-size:1rem">index</a>
        
      
        
          
          
          &middot;
          <a href="/tags/ingress" style="font-size:1.0377358490566038rem">ingress</a>
        
      
        
          
          
          &middot;
          <a href="/tags/inotify" style="font-size:1rem">inotify</a>
        
      
        
          
          
          &middot;
          <a href="/tags/internet" style="font-size:1.169811320754717rem">internet</a>
        
      
        
          
          
          &middot;
          <a href="/tags/interview" style="font-size:1rem">interview</a>
        
      
        
          
          
          &middot;
          <a href="/tags/iptables" style="font-size:1.0377358490566038rem">iptables</a>
        
      
        
          
          
          &middot;
          <a href="/tags/ipvs" style="font-size:1.0188679245283019rem">ipvs</a>
        
      
        
          
          
          &middot;
          <a href="/tags/java" style="font-size:1.0754716981132075rem">java</a>
        
      
        
          
          
          &middot;
          <a href="/tags/jeju" style="font-size:1rem">jeju</a>
        
      
        
          
          
          &middot;
          <a href="/tags/jenkins" style="font-size:1.0943396226415094rem">jenkins</a>
        
      
        
          
          
          &middot;
          <a href="/tags/jetbrains" style="font-size:1rem">jetbrains</a>
        
      
        
          
          
          &middot;
          <a href="/tags/jumpserver" style="font-size:1.0566037735849056rem">jumpserver</a>
        
      
        
          
          
          &middot;
          <a href="/tags/jvm" style="font-size:1rem">jvm</a>
        
      
        
          
          
          &middot;
          <a href="/tags/keepalived" style="font-size:1rem">keepalived</a>
        
      
        
          
          
          &middot;
          <a href="/tags/kernel" style="font-size:1rem">kernel</a>
        
      
        
          
          
          &middot;
          <a href="/tags/knowledge" style="font-size:1rem">knowledge</a>
        
      
        
          
          
          &middot;
          <a href="/tags/kube-proxy" style="font-size:1.0188679245283019rem">kube-proxy</a>
        
      
        
          
          
          &middot;
          <a href="/tags/kubernetes" style="font-size:1.3962264150943395rem">kubernetes</a>
        
      
        
          
          
          &middot;
          <a href="/tags/kubernetesrbac" style="font-size:1rem">kubernetesrbac</a>
        
      
        
          
          
          &middot;
          <a href="/tags/kubernetesssl" style="font-size:1.0188679245283019rem">kubernetesssl</a>
        
      
        
          
          
          &middot;
          <a href="/tags/kuboard" style="font-size:1.0566037735849056rem">kuboard</a>
        
      
        
          
          
          &middot;
          <a href="/tags/lb" style="font-size:1rem">lb</a>
        
      
        
          
          
          &middot;
          <a href="/tags/learning" style="font-size:1.0566037735849056rem">learning</a>
        
      
        
          
          
          &middot;
          <a href="/tags/leetcode" style="font-size:1.0188679245283019rem">leetcode</a>
        
      
        
          
          
          &middot;
          <a href="/tags/libcurl" style="font-size:1rem">libcurl</a>
        
      
        
          
          
          &middot;
          <a href="/tags/libssh2" style="font-size:1rem">libssh2</a>
        
      
        
          
          
          &middot;
          <a href="/tags/link" style="font-size:1rem">link</a>
        
      
        
          
          
          &middot;
          <a href="/tags/linux" style="font-size:1.9811320754716981rem">linux</a>
        
      
        
          
          
          &middot;
          <a href="/tags/living" style="font-size:1rem">living</a>
        
      
        
          
          
          &middot;
          <a href="/tags/lnux" style="font-size:1rem">lnux</a>
        
      
        
          
          
          &middot;
          <a href="/tags/log" style="font-size:1.0566037735849056rem">log</a>
        
      
        
          
          
          &middot;
          <a href="/tags/logrus" style="font-size:1rem">logrus</a>
        
      
        
          
          
          &middot;
          <a href="/tags/logs" style="font-size:1rem">logs</a>
        
      
        
          
          
          &middot;
          <a href="/tags/logstash" style="font-size:1rem">logstash</a>
        
      
        
          
          
          &middot;
          <a href="/tags/loki" style="font-size:1rem">loki</a>
        
      
        
          
          
          &middot;
          <a href="/tags/lru" style="font-size:1rem">lru</a>
        
      
        
          
          
          &middot;
          <a href="/tags/luna" style="font-size:1rem">luna</a>
        
      
        
          
          
          &middot;
          <a href="/tags/lvm" style="font-size:1rem">lvm</a>
        
      
        
          
          
          &middot;
          <a href="/tags/lvs" style="font-size:1rem">lvs</a>
        
      
        
          
          
          &middot;
          <a href="/tags/mac" style="font-size:1rem">mac</a>
        
      
        
          
          
          &middot;
          <a href="/tags/malaysia" style="font-size:1rem">malaysia</a>
        
      
        
          
          
          &middot;
          <a href="/tags/manage" style="font-size:1rem">manage</a>
        
      
        
          
          
          &middot;
          <a href="/tags/map" style="font-size:1rem">map</a>
        
      
        
          
          
          &middot;
          <a href="/tags/mariadb" style="font-size:1.0377358490566038rem">mariadb</a>
        
      
        
          
          
          &middot;
          <a href="/tags/markdown" style="font-size:1.0188679245283019rem">markdown</a>
        
      
        
          
          
          &middot;
          <a href="/tags/mfa" style="font-size:1rem">mfa</a>
        
      
        
          
          
          &middot;
          <a href="/tags/mha" style="font-size:1rem">mha</a>
        
      
        
          
          
          &middot;
          <a href="/tags/mode" style="font-size:1rem">mode</a>
        
      
        
          
          
          &middot;
          <a href="/tags/module" style="font-size:1rem">module</a>
        
      
        
          
          
          &middot;
          <a href="/tags/mount" style="font-size:1rem">mount</a>
        
      
        
          
          
          &middot;
          <a href="/tags/mysql" style="font-size:1.2452830188679245rem">mysql</a>
        
      
        
          
          
          &middot;
          <a href="/tags/navicat" style="font-size:1rem">navicat</a>
        
      
        
          
          
          &middot;
          <a href="/tags/network" style="font-size:1rem">network</a>
        
      
        
          
          
          &middot;
          <a href="/tags/nfs" style="font-size:1.0754716981132075rem">nfs</a>
        
      
        
          
          
          &middot;
          <a href="/tags/nginx" style="font-size:1.2264150943396226rem">nginx</a>
        
      
        
          
          
          &middot;
          <a href="/tags/nginxingress" style="font-size:1.0566037735849056rem">nginxingress</a>
        
      
        
          
          
          &middot;
          <a href="/tags/node_exporter" style="font-size:1.0188679245283019rem">node_exporter</a>
        
      
        
          
          
          &middot;
          <a href="/tags/numpy" style="font-size:1rem">numpy</a>
        
      
        
          
          
          &middot;
          <a href="/tags/ops" style="font-size:1.2452830188679245rem">ops</a>
        
      
        
          
          
          &middot;
          <a href="/tags/owncloud" style="font-size:1rem">owncloud</a>
        
      
        
          
          
          &middot;
          <a href="/tags/password" style="font-size:1rem">password</a>
        
      
        
          
          
          &middot;
          <a href="/tags/paxos" style="font-size:1.0188679245283019rem">paxos</a>
        
      
        
          
          
          &middot;
          <a href="/tags/php" style="font-size:1rem">php</a>
        
      
        
          
          
          &middot;
          <a href="/tags/pipeline" style="font-size:1rem">pipeline</a>
        
      
        
          
          
          &middot;
          <a href="/tags/polynomial" style="font-size:1rem">polynomial</a>
        
      
        
          
          
          &middot;
          <a href="/tags/problem" style="font-size:1rem">problem</a>
        
      
        
          
          
          &middot;
          <a href="/tags/prometheus" style="font-size:1.0943396226415094rem">prometheus</a>
        
      
        
          
          
          &middot;
          <a href="/tags/pv" style="font-size:1.0754716981132075rem">pv</a>
        
      
        
          
          
          &middot;
          <a href="/tags/pvc" style="font-size:1.0754716981132075rem">pvc</a>
        
      
        
          
          
          &middot;
          <a href="/tags/python" style="font-size:1.0943396226415094rem">python</a>
        
      
        
          
          
          &middot;
          <a href="/tags/queue" style="font-size:1rem">queue</a>
        
      
        
          
          
          &middot;
          <a href="/tags/qw3xt" style="font-size:1rem">qw3xt</a>
        
      
        
          
          
          &middot;
          <a href="/tags/rabbitmq" style="font-size:1.0188679245283019rem">rabbitmq</a>
        
      
        
          
          
          &middot;
          <a href="/tags/raft" style="font-size:1rem">raft</a>
        
      
        
          
          
          &middot;
          <a href="/tags/rebase" style="font-size:1rem">rebase</a>
        
      
        
          
          
          &middot;
          <a href="/tags/redis" style="font-size:1.0377358490566038rem">redis</a>
        
      
        
          
          
          &middot;
          <a href="/tags/resources" style="font-size:1.0188679245283019rem">resources</a>
        
      
        
          
          
          &middot;
          <a href="/tags/rsa" style="font-size:1rem">rsa</a>
        
      
        
          
          
          &middot;
          <a href="/tags/rsync" style="font-size:1.0188679245283019rem">rsync</a>
        
      
        
          
          
          &middot;
          <a href="/tags/safe" style="font-size:1.0754716981132075rem">safe</a>
        
      
        
          
          
          &middot;
          <a href="/tags/samba" style="font-size:1rem">samba</a>
        
      
        
          
          
          &middot;
          <a href="/tags/sealos" style="font-size:1rem">sealos</a>
        
      
        
          
          
          &middot;
          <a href="/tags/secure" style="font-size:1rem">secure</a>
        
      
        
          
          
          &middot;
          <a href="/tags/sed" style="font-size:1rem">sed</a>
        
      
        
          
          
          &middot;
          <a href="/tags/server" style="font-size:1.2075471698113207rem">server</a>
        
      
        
          
          
          &middot;
          <a href="/tags/sftp" style="font-size:1rem">sftp</a>
        
      
        
          
          
          &middot;
          <a href="/tags/shadowsocks" style="font-size:1.0188679245283019rem">shadowsocks</a>
        
      
        
          
          
          &middot;
          <a href="/tags/shell" style="font-size:1.0188679245283019rem">shell</a>
        
      
        
          
          
          &middot;
          <a href="/tags/slap" style="font-size:1rem">slap</a>
        
      
        
          
          
          &middot;
          <a href="/tags/slave" style="font-size:1rem">slave</a>
        
      
        
          
          
          &middot;
          <a href="/tags/slb" style="font-size:1rem">slb</a>
        
      
        
          
          
          &middot;
          <a href="/tags/slowquery" style="font-size:1rem">slowquery</a>
        
      
        
          
          
          &middot;
          <a href="/tags/sonar" style="font-size:1.0377358490566038rem">sonar</a>
        
      
        
          
          
          &middot;
          <a href="/tags/sourcetree" style="font-size:1.0188679245283019rem">sourcetree</a>
        
      
        
          
          
          &middot;
          <a href="/tags/sql" style="font-size:1.0188679245283019rem">sql</a>
        
      
        
          
          
          &middot;
          <a href="/tags/ss" style="font-size:1rem">ss</a>
        
      
        
          
          
          &middot;
          <a href="/tags/ssh" style="font-size:1.0754716981132075rem">ssh</a>
        
      
        
          
          
          &middot;
          <a href="/tags/ssl" style="font-size:1.1132075471698113rem">ssl</a>
        
      
        
          
          
          &middot;
          <a href="/tags/stack" style="font-size:1rem">stack</a>
        
      
        
          
          
          &middot;
          <a href="/tags/stress" style="font-size:1rem">stress</a>
        
      
        
          
          
          &middot;
          <a href="/tags/style" style="font-size:1rem">style</a>
        
      
        
          
          
          &middot;
          <a href="/tags/switchyomega" style="font-size:1rem">switchyomega</a>
        
      
        
          
          
          &middot;
          <a href="/tags/syncd" style="font-size:1rem">syncd</a>
        
      
        
          
          
          &middot;
          <a href="/tags/taint" style="font-size:1rem">taint</a>
        
      
        
          
          
          &middot;
          <a href="/tags/tar" style="font-size:1rem">tar</a>
        
      
        
          
          
          &middot;
          <a href="/tags/tcp" style="font-size:1.0188679245283019rem">tcp</a>
        
      
        
          
          
          &middot;
          <a href="/tags/testing" style="font-size:1rem">testing</a>
        
      
        
          
          
          &middot;
          <a href="/tags/tomcat" style="font-size:1rem">tomcat</a>
        
      
        
          
          
          &middot;
          <a href="/tags/tour" style="font-size:1.0188679245283019rem">tour</a>
        
      
        
          
          
          &middot;
          <a href="/tags/trojan" style="font-size:1rem">trojan</a>
        
      
        
          
          
          &middot;
          <a href="/tags/ubuntu" style="font-size:1.0566037735849056rem">ubuntu</a>
        
      
        
          
          
          &middot;
          <a href="/tags/udp" style="font-size:1rem">udp</a>
        
      
        
          
          
          &middot;
          <a href="/tags/uk8s" style="font-size:1rem">uk8s</a>
        
      
        
          
          
          &middot;
          <a href="/tags/unauthorized" style="font-size:1rem">unauthorized</a>
        
      
        
          
          
          &middot;
          <a href="/tags/unblockneteasemusic" style="font-size:1rem">unblockneteasemusic</a>
        
      
        
          
          
          &middot;
          <a href="/tags/upgrade" style="font-size:1.0188679245283019rem">upgrade</a>
        
      
        
          
          
          &middot;
          <a href="/tags/upstream" style="font-size:1rem">upstream</a>
        
      
        
          
          
          &middot;
          <a href="/tags/v1.18.3" style="font-size:1rem">v1.18.3</a>
        
      
        
          
          
          &middot;
          <a href="/tags/vim" style="font-size:1rem">vim</a>
        
      
        
          
          
          &middot;
          <a href="/tags/virtul" style="font-size:1rem">virtul</a>
        
      
        
          
          
          &middot;
          <a href="/tags/vpn" style="font-size:1.0754716981132075rem">vpn</a>
        
      
        
          
          
          &middot;
          <a href="/tags/vscode" style="font-size:1rem">vscode</a>
        
      
        
          
          
          &middot;
          <a href="/tags/websocket" style="font-size:1rem">websocket</a>
        
      
        
          
          
          &middot;
          <a href="/tags/wifi" style="font-size:1rem">wifi</a>
        
      
        
          
          
          &middot;
          <a href="/tags/xshell" style="font-size:1rem">xshell</a>
        
      
        
          
          
          &middot;
          <a href="/tags/xtrabackup" style="font-size:1rem">xtrabackup</a>
        
      
        
          
          
          &middot;
          <a href="/tags/yum" style="font-size:1rem">yum</a>
        
      
        
          
          
          &middot;
          <a href="/tags/zabbix" style="font-size:1rem">zabbix</a>
        
      
        
          
          
          &middot;
          <a href="/tags/%e6%95%b0%e6%8d%ae%e5%ba%93%e5%8e%9f%e7%90%86" style="font-size:1rem">æ•°æ®åº“åŸç†</a>
        
      
        
          
          
          &middot;
          <a href="/tags/%e8%b4%aa%e5%bf%83%e7%ae%97%e6%b3%95" style="font-size:1rem">è´ªå¿ƒç®—æ³•</a>
        
      
      </div>
    
  </div>

  <!-- profile -->
  <!-- toc -->
  
  <div class="bg-white px-4 py-5 box-shadow mb-5 sticky-top">
    <h4 class="mb-4">ç›®å½•</h4>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#å®˜æ–¹çš„è§£å†³">å®˜æ–¹çš„è§£å†³</a>
      <ul>
        <li><a href="#è·å–ç”¨æˆ·çœŸå®-ip">è·å–ç”¨æˆ·çœŸå® IP</a></li>
      </ul>
    </li>
    <li><a href="#æˆ‘çš„è§£å†³æ€è·¯">æˆ‘çš„è§£å†³æ€è·¯</a>
      <ul>
        <li><a href="#æ¶æ„å›¾">æ¶æ„å›¾</a></li>
        <li><a href="#slbåçš„nginx-webé…ç½®">SLBåçš„<code>nginx-web</code>é…ç½®</a></li>
        <li><a href="#frp_serveré…ç½®"><code>frp_server</code>é…ç½®</a></li>
        <li><a href="#frp_clienté…ç½®"><code>frp_client</code>é…ç½®</a></li>
        <li><a href="#æœ¬åœ°nginx-lbè´Ÿè½½å‡è¡¡æœåŠ¡é…ç½®">æœ¬åœ°<code>nginx-LB</code>è´Ÿè½½å‡è¡¡æœåŠ¡é…ç½®.</a></li>
        <li><a href="#æŸ¥çœ‹æ—¥å¿—è¿›è¡ŒéªŒè¯">æŸ¥çœ‹æ—¥å¿—è¿›è¡ŒéªŒè¯</a></li>
        <li><a href="#å‚è€ƒ">å‚è€ƒ</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>

</aside>
<!-- /sidebar -->

    </div>
  </div>
</section>
<!-- /blog details -->



<footer>
	
	<div class="section bg-secondary">
		<div class="container">
			<div class="row justify-content-between">
				
				<div class="col-lg-5 mb-5 mb-lg-0">
					
					<a class="mb-4 d-inline-block" href="/"><img class="img-fluid"
																								src="/images/images/logo-alt.png" alt="Louis Blog" width="60%"></a>
					<p class="text-light mb-5">æ¯ä¸€ä¸ªä¸æ›¾èµ·èˆçš„æ—¥å­éƒ½æ˜¯å¯¹ç”Ÿå‘½çš„è¾œè´Ÿ.</p>
					<h4 class="text-white mb-4">å…³æ³¨æˆ‘</h4>
					
					<ul class="list-inline social-icon-alt">
						
						<li class="list-inline-item">
							<a class="hover-ripple" href="https://twitter.com/louishong17"><i class="fa fa-twitter"></i></a>
						</li>
						
						<li class="list-inline-item">
							<a class="hover-ripple" href="https://github.com/oldthreefeng"><i class="fa fa-github"></i></a>
						</li>
						
						<li class="list-inline-item">
							<a class="hover-ripple" href="/contact"><i class="fa fa-wechat"></i></a>
						</li>
						
						<li class="list-inline-item">
							<a class="hover-ripple" href="mailto:992165098@qq.com"><i class="fa fa-envelope"></i></a>
						</li>
						
						<li class="list-inline-item">
							<a class="hover-ripple" href="https://www.fenghong.tech/blog/index.xml"><i class="fa fa-rss"></i></a>
						</li>
						
					</ul>
				</div>
				<div class="col-lg-5 mb-5 mb-lg-0">
					
					
					
					
					
					<div class="mb-5">
						<h4 class="text-white mb-4">è”ç³»ä¿¡æ¯</h4>
						<p class="text-light mb-3">ä¸Šæµ· Â· æµ¦ä¸œæ–°åŒº</p>
						<p class="text-light mb-3"></p>
						<p class="text-light mb-3">å¾®ä¿¡è”ç³»æ–¹å¼</p>
						<p class="text-light mb-3"><img src="/images/images/wechat-qrcode.png" width="356px"></p>
					</div>
					
					
				</div>
			</div>
		</div>
	</div>
	
	<div class="bg-secondary-darken py-4">
		<div class="container">
			<div class="row">
				<div class="col-md-6 text-center text-md-left mb-3 mb-md-0">
					<p class="mb-0 text-white">Copyright Â© 2020 Louis</p>
				</div>
				<div class="col-md-6 text-center text-md-right">
					<ul class="list-inline">
						
						<li class="list-inline-item mx-0"><a class="d-inline-block px-3 text-white" href="https://beian.miit.gov.cn/"
																									class="text-white">é„‚ICPå¤‡18027870å·-1</a></li>
						<p class="list-inline-item mx-0 text-white">æœ¬ç½‘ç«™ç”±</p>
						<a target="_blank" rel="nofollow noopener" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral"><img src="https://pic.fenghong.tech/images/180803_logo30.png" style="margin-bottom:5px;height: 25px;"></a>
						<p class="list-inline-item mx-0 text-white">æä¾›CDNåŠ é€Ÿ/äº‘å­˜å‚¨æœåŠ¡</p>
						
					</ul>
				</div>
			</div>
		</div>
	</div>
</footer>



<script>
	var indexURL = "/index.json"
</script>


<!-- JS Plugins -->

<script src="/plugins/jQuery/jquery.min.js"></script>

<script src="/plugins/bootstrap/bootstrap.min.js"></script>

<script src="/plugins/slick/slick.min.js"></script>

<script src="/plugins/google-map/gmap.js"></script>

<script src="/plugins/venobox/venobox.min.js"></script>

<script src="/plugins/filterizr/jquery.filterizr.min.js"></script>

<script src="/plugins/search/fuse.min.js"></script>

<script src="/plugins/search/mark.js"></script>

<script src="/plugins/search/search.js"></script>

<script src="/plugins/bigPicture/bigPicture.js"></script>

<script src="/plugins/hex_md5/hex_md5.js"></script>


<!-- Main Script -->

<script src="/js/script.min.js"></script>

<!-- Algolia -->
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.js"></script>
<script>
	docsearch({
		apiKey: 'b4d47f0c039a84d4035305be829404dd',
		indexName: 'DocSearch',
		appId: 'CTH4P282IZ',
		inputSelector: '#js-algolia-btn',
		debug: false,
	});
</script>

<!-- google analitycs -->

<script>
	(function (i, s, o, g, r, a, m) {
		i['GoogleAnalyticsObject'] = r;
		i[r] = i[r] || function () {
			(i[r].q = i[r].q || []).push(arguments)
		}, i[r].l = 1 * new Date();
		a = s.createElement(o),
			m = s.getElementsByTagName(o)[0];
		a.async = 1;
		a.src = g;
		m.parentNode.insertBefore(a, m)
	})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-130595069-1', 'auto');
ga('send', 'pageview');
</script>


<script>
	(function(){
		var bp = document.createElement('script');
		var curProtocol = window.location.protocol.split(':')[0];
		if (curProtocol === 'https'){
			bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
		}
		else{
			bp.src = 'http://push.zhanzhang.baidu.com/push.js';
		}
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(bp, s);
	})();
</script>
</body>

</html>